<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 분석 대시보드 - CodeKids</title>
    
    <!-- 외부 라이브러리 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 커스텀 스타일 -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/dashboard.css">
    
    <!-- Tailwind 커스텀 설정 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#06B6D4',
                        accent: '#F59E0B',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444'
                    },
                    fontFamily: {
                        'korean': ['Noto Sans KR', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="font-korean bg-gray-50 min-h-screen">
    <!-- 헤더 네비게이션 -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <a href="index.html" class="flex items-center space-x-2">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-lg flex items-center justify-center">
                            <i class="fas fa-code text-white text-xl"></i>
                        </div>
                        <h1 class="text-2xl font-bold text-gray-800">CodeKids</h1>
                    </a>
                </div>
                
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="text-gray-700 hover:text-primary transition-colors">홈</a>
                    <a href="dashboard.html" class="text-primary font-semibold">대시보드</a>
                    <a href="editor.html" class="text-gray-700 hover:text-primary transition-colors flex items-center">
                        <i class="fas fa-puzzle-piece mr-1 text-green-500"></i>
                        코딩 실험실
                    </a>
                    <a href="#community" class="text-gray-700 hover:text-primary transition-colors">커뮤니티</a>
                </div>
                
                <div class="flex items-center space-x-3">
                    <!-- 로그인 버튼 (로그인 전) -->
                    <div class="login-btn">
                        <button onclick="googleAuth.signIn()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2">
                            <i class="fab fa-google"></i>
                            <span>로그인</span>
                        </button>
                    </div>

                    <!-- 사용자 메뉴 (로그인 후) -->
                    <div class="user-menu" style="display: none;">
                        <!-- 로그인 후 사용자 정보가 여기에 표시됩니다 -->
                    </div>

                    <button class="md:hidden text-gray-700">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- 메인 대시보드 -->
    <main class="container mx-auto px-4 py-6">
        <!-- 대시보드 헤더 -->
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-2">학습 분석 대시보드</h2>
            <p class="text-gray-600">김민수님의 코딩 학습 현황을 한눈에 확인하세요</p>
        </div>

        <!-- 요약 통계 카드 -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">총 학습 시간</p>
                        <p class="text-3xl font-bold text-primary" id="total-hours">48</p>
                        <p class="text-xs text-green-600 flex items-center mt-1">
                            <i class="fas fa-arrow-up mr-1"></i>
                            지난주 대비 +12%
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-clock text-primary text-xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">완료한 프로젝트</p>
                        <p class="text-3xl font-bold text-success" id="completed-projects">12</p>
                        <p class="text-xs text-green-600 flex items-center mt-1">
                            <i class="fas fa-arrow-up mr-1"></i>
                            이번 달 +3개
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-check-circle text-success text-xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">현재 레벨</p>
                        <p class="text-3xl font-bold text-accent" id="current-level">7</p>
                        <p class="text-xs text-amber-600 flex items-center mt-1">
                            <i class="fas fa-star mr-1"></i>
                            다음 레벨까지 85%
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-trophy text-accent text-xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-600 mb-1">연속 학습 일수</p>
                        <p class="text-3xl font-bold text-danger" id="streak-days">15</p>
                        <p class="text-xs text-red-600 flex items-center mt-1">
                            <i class="fas fa-fire mr-1"></i>
                            최고 기록 달성!
                        </p>
                    </div>
                    <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-fire text-danger text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- 차트 섹션 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- 주간 학습 시간 차트 -->
            <div class="bg-white rounded-2xl p-6 shadow-lg">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-800">주간 학습 시간</h3>
                    <div class="flex items-center space-x-2">
                        <select id="week-select" class="text-sm border rounded-lg px-3 py-1 focus:ring-2 focus:ring-primary focus:border-primary">
                            <option>이번 주</option>
                            <option>지난 주</option>
                            <option>지난 달</option>
                        </select>
                    </div>
                </div>
                <div style="height: 300px;">
                    <canvas id="weeklyHoursChart"></canvas>
                </div>
            </div>

            <!-- 언어별 학습 분포 차트 -->
            <div class="bg-white rounded-2xl p-6 shadow-lg">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-800">언어별 학습 분포</h3>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-600">전체 기간</span>
                    </div>
                </div>
                <div style="height: 300px;">
                    <canvas id="languageDistChart"></canvas>
                </div>
            </div>
        </div>

        <!-- 학습 진도 및 성취도 -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            <!-- 월별 진도 차트 -->
            <div class="lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-800">월별 학습 진도</h3>
                    <div class="flex items-center space-x-2">
                        <button class="px-3 py-1 text-sm bg-primary text-white rounded-lg">2024</button>
                        <button class="px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-lg">2023</button>
                    </div>
                </div>
                <div style="height: 350px;">
                    <canvas id="monthlyProgressChart"></canvas>
                </div>
            </div>

            <!-- 성취 배지 -->
            <div class="bg-white rounded-2xl p-6 shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-6">최근 획득 배지</h3>
                <div class="space-y-4">
                    <div class="flex items-center space-x-3 p-3 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg">
                        <div class="w-12 h-12 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-crown text-white text-lg"></i>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">스크래치 마스터</p>
                            <p class="text-sm text-gray-600">30개 프로젝트 완성</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg">
                        <div class="w-12 h-12 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-rocket text-white text-lg"></i>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">파이썬 탐험가</p>
                            <p class="text-sm text-gray-600">첫 파이썬 프로그램 완성</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg">
                        <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-fire text-white text-lg"></i>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">연속 학습 달인</p>
                            <p class="text-sm text-gray-600">15일 연속 학습</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3 p-3 bg-gradient-to-r from-purple-50 to-violet-50 rounded-lg">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-400 to-violet-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-users text-white text-lg"></i>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">협력 개발자</p>
                            <p class="text-sm text-gray-600">5명과 공동 프로젝트</p>
                        </div>
                    </div>
                </div>
                
                <button class="w-full mt-4 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors">
                    모든 배지 보기
                </button>
            </div>
        </div>

        <!-- 최근 활동 및 프로젝트 현황 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- 최근 활동 -->
            <div class="bg-white rounded-2xl p-6 shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-6">최근 활동</h3>
                <div class="space-y-4">
                    <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mt-1">
                            <i class="fas fa-check text-green-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-semibold text-gray-800">"미로 탈출 로봇" 프로젝트 완료</p>
                            <p class="text-sm text-gray-600">스크래치로 구현한 AI 로봇 게임</p>
                            <p class="text-xs text-gray-500 mt-1">2시간 전</p>
                        </div>
                        <div class="text-right">
                            <span class="text-sm font-semibold text-green-600">+100 XP</span>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mt-1">
                            <i class="fas fa-code text-blue-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-semibold text-gray-800">파이썬 기초 레슨 3-2 완료</p>
                            <p class="text-sm text-gray-600">조건문과 반복문 활용</p>
                            <p class="text-xs text-gray-500 mt-1">어제</p>
                        </div>
                        <div class="text-right">
                            <span class="text-sm font-semibold text-blue-600">+75 XP</span>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mt-1">
                            <i class="fas fa-star text-purple-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-semibold text-gray-800">"스크래치 마스터" 배지 획득</p>
                            <p class="text-sm text-gray-600">30개 프로젝트 완성 달성</p>
                            <p class="text-xs text-gray-500 mt-1">2일 전</p>
                        </div>
                        <div class="text-right">
                            <span class="text-sm font-semibold text-purple-600">+200 XP</span>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors">
                        <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mt-1">
                            <i class="fas fa-comments text-yellow-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-semibold text-gray-800">커뮤니티에 질문 게시</p>
                            <p class="text-sm text-gray-600">"파이썬 리스트 정렬하는 방법이 궁금해요"</p>
                            <p class="text-xs text-gray-500 mt-1">3일 전</p>
                        </div>
                        <div class="text-right">
                            <span class="text-sm font-semibold text-gray-600">5개 답변</span>
                        </div>
                    </div>
                </div>
                
                <button class="w-full mt-4 text-primary hover:bg-blue-50 py-2 rounded-lg transition-colors">
                    더 많은 활동 보기
                </button>
            </div>

            <!-- 진행중인 프로젝트 -->
            <div class="bg-white rounded-2xl p-6 shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-6">진행중인 프로젝트</h3>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="font-semibold text-gray-800">계산기 웹앱 만들기</h4>
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full">HTML/CSS</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">사칙연산 기능을 가진 웹 계산기 개발</p>
                        <div class="flex items-center justify-between">
                            <div class="flex-1 bg-gray-200 rounded-full h-2 mr-3">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 65%"></div>
                            </div>
                            <span class="text-sm text-gray-600">65%</span>
                        </div>
                        <div class="flex items-center justify-between mt-2">
                            <span class="text-xs text-gray-500">예상 완료: 3일 후</span>
                            <button class="text-xs text-blue-600 hover:text-blue-800">계속하기 →</button>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="font-semibold text-gray-800">점프 게임 개발</h4>
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full">스크래치</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">캐릭터가 장애물을 피해 점프하는 게임</p>
                        <div class="flex items-center justify-between">
                            <div class="flex-1 bg-gray-200 rounded-full h-2 mr-3">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 40%"></div>
                            </div>
                            <span class="text-sm text-gray-600">40%</span>
                        </div>
                        <div class="flex items-center justify-between mt-2">
                            <span class="text-xs text-gray-500">예상 완료: 1주 후</span>
                            <button class="text-xs text-green-600 hover:text-green-800">계속하기 →</button>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="font-semibold text-gray-800">숫자 맞추기 게임</h4>
                            <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full">파이썬</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">랜덤 숫자를 맞추는 콘솔 게임</p>
                        <div class="flex items-center justify-between">
                            <div class="flex-1 bg-gray-200 rounded-full h-2 mr-3">
                                <div class="bg-yellow-500 h-2 rounded-full" style="width: 80%"></div>
                            </div>
                            <span class="text-sm text-gray-600">80%</span>
                        </div>
                        <div class="flex items-center justify-between mt-2">
                            <span class="text-xs text-gray-500">예상 완료: 1일 후</span>
                            <button class="text-xs text-yellow-600 hover:text-yellow-800">계속하기 →</button>
                        </div>
                    </div>
                </div>
                
                <button class="w-full mt-4 bg-primary text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors">
                    새 프로젝트 시작하기
                </button>
            </div>
        </div>

        <!-- 추천 학습 경로 -->
        <div class="bg-gradient-to-r from-primary to-secondary rounded-2xl p-8 text-white mb-8">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <div class="mb-6 md:mb-0">
                    <h3 class="text-2xl font-bold mb-2">다음 학습 추천</h3>
                    <p class="text-blue-100 mb-4">
                        현재 진도를 바탕으로 김민수님에게 맞는 다음 단계를 추천합니다
                    </p>
                    <div class="flex flex-wrap gap-2">
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">웹 개발 기초</span>
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">JavaScript 입문</span>
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm">알고리즘 기초</span>
                    </div>
                </div>
                <div class="text-center">
                    <button class="bg-white text-primary px-8 py-3 rounded-xl font-semibold hover:bg-gray-100 transition-colors">
                        추천 강의 보기
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- JavaScript -->
    <script src="js/dashboard.js"></script>
</body>
</html>